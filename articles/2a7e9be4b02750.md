---
title: 'Supabaseã¨Next.jsã‚’ä½¿ã£ãŸé–‹ç™ºã‚’ã™ã‚‹ã¾ã§'
emoji: 'ğŸ·'
type: 'tech' # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ['supabase', 'nextjs']
published: true
---

æœ€è¿‘GAã¨ãªã£ãŸSupabaseã‚’ä½¿ã£ã¦Next.jsã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ãŸã‚ã®é–‹ç™ºç’°å¢ƒã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚

## ã„ã¡ã°ã‚“ç°¡å˜ãªæ–¹æ³•

å®Ÿã¯SupabaseãŒGAã«ãªã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã€å…¬å¼ã‚ˆã‚Š `Supabase Bootstrap` ã¨ã„ã†ã‚‚ã®ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚

ã“ã‚Œã‚’ä½¿ã†ã¨ã‚³ãƒãƒ³ãƒ‰1ã¤ã§Supabaseã¨Next.jsã®é–‹ç™ºç’°å¢ƒãŒæ§‹ç¯‰ã§ãã¾ã™ã€‚

```bash
supabase bootstrap
npx supabase@latest bootstrap
bunx supabase@latest bootstrap
```

```bash
bunx supabase@latest bootstrap
Enter a directory to bootstrap your project (or leave blank to use /home/user/dev): test

    Which starter template do you want to use?

    1. embeddings [AI Inference in Supabase Edge Functions.]
  >  2. nextjs [A Next.js App Router template configured with cookie-based auth.]
    3. expo [An Expo React Native User Management starter.]
    4. flutter [A Flutter User Management starter.]
    5. swift [A Swift User Management starter.]
    6. rbac [A Next.js RBAC Slack clone starter.]
    7. @basejump/nextjs [A Next.js starter with personal accounts, teams, permissions and Stripe billing]
    8. scratch [An empty project from scratch.]
```

ã“ã¡ã‚‰ã®ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦ã®è©³ç´°ã¯[Supabaseã®ãƒ–ãƒ­ã‚°](https://supabase.com/blog/supabase-bootstrap)ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

https://supabase.com/blog/supabase-bootstrap

Supabaseã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹ãŸã‚ã«å¿…è¦ãªæº–å‚™ã‚‚æ¸ˆã‚“ã§ã„ã‚‹ã®ã§æ­£ç›´ã“ã‚Œã§ååˆ†ã§ã™ã€‚

## æ‰‹å‹•ã§ä½œã‚‹æ–¹æ³•

å‰è¿°ã®æ–¹æ³•ã¨ã¯åˆ¥ã«ã€ä½•ã‹ã—ã‚‰ã®ç†ç”±ã§æ‰‹å‹•ã§é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã—ãŸã„æ–¹ã¯ä»¥ä¸‹ã®æ‰‹é †ã§ç’°å¢ƒæ§‹ç¯‰ã§ãã¾ã™ã€‚

### Next.jsã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ

```bash
bunx create-next-app@latest
```

ãŠãªã˜ã¿ã® `create-next-app` ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚
è¨­å®šã¯ãŠå¥½ã¿ã§å¤§ä¸ˆå¤«ã§ã™ãŒã€ä»Šå›ã¯AppRouterã§ã‚ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚

### Supabaseã®æº–å‚™

ä»Šå›ã¯é–‹ç™ºç’°å¢ƒãªã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã§Supabaseã‚’ç«‹ã¡ä¸Šã’ã‚‹æº–å‚™ã‚’è¡Œã„ã¾ã™ã€‚

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã“ã¡ã‚‰:

https://supabase.com/docs/guides/cli/local-development

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚è¨˜è¼‰ãŒã‚ã‚Šã¾ã™ãŒã€DockerãŒå‹•ä½œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€Docker Desktopç­‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚

```bash
bunx supabase@latest init
```

ã“ã¡ã‚‰ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã« `supabase` ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå‡ºæ¥ä¸ŠãŒã‚Šã¾ã™ã€‚

```bash
bunx supabase@latest start
```

ä¸Šè¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«SupabaseãŒç«‹ã¡ä¸ŠãŒã‚Šã¾ã™ã€‚
æœ€åˆã¯ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒè¡Œã‚ã‚Œã‚‹ã®ã§å°‘ã—æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚

SupabaseãŒç«‹ã¡ä¸ŠãŒã‚‹ã¨ã€é–‹ç™ºã«å¿…è¦ãªå€¤ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```bash
Started supabase local development setup.

         API URL: http://127.0.0.1:54321
     GraphQL URL: http://127.0.0.1:54321/graphql/v1
          DB URL: postgresql://postgres:postgres@127.0.0.1:54322/postgres
      Studio URL: http://127.0.0.1:54323
    Inbucket URL: http://127.0.0.1:54324
      JWT secret: super-secret-jwt-token-with-at-least-32-characters-long
        anon key: eyJ.......
service_role key: eyJ.......
```

ã“ã“ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ `Studio URL` ãŒSupabaseã®ç®¡ç†ç”»é¢ã§ã™ã€‚
è¦‹æ…£ã‚ŒãŸç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¨æ€ã„ã¾ã™ã€‚

![](/images/2024-04-21-01.png)

### Next.jsã§Supabaseã‚’ä½¿ã†

Next.jsã§Supabaseã‚’ä½¿ã†ãŸã‚ã®ã‚„ã‚Šæ–¹ã‚‚ç´°ã‹ããƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜è¼‰ãŒã‚ã‚Šã¾ã™ã€‚

https://supabase.com/docs/guides/getting-started/quickstarts/nextjs

ä¸Šè¨˜ã‚’å‚è€ƒã«ã€Supabaseã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚

`SUPABASE_URL` ã¨ `SUPABASE_ANON_KEY` ã¯å…ˆç¨‹ã® `supabase start` ã§è¡¨ç¤ºã•ã‚ŒãŸå€¤ã‚’ä½¿ã„ã¾ã™ã€‚

## ã¾ã¨ã‚

ã»ã‚“ã®æ•°é€±é–“å‰ã¾ã§ã¯æ‰‹å‹•ã§ç’°å¢ƒæ§‹ç¯‰ã‚’ã—ã¦ã„ãŸã®ã§ã“ã®è¨˜äº‹ã‚’ã¾ã¨ã‚ã¦ã¾ã—ãŸãŒã€SupabaseãŒGAã«ãªã‚Šã€BootstrapãŒæä¾›ã•ã‚ŒãŸä»Šã€åƒ•ã¯ãŠãã‚‰ãæ‰‹å‹•ã§æ§‹ç¯‰ã™ã‚‹ã“ã¨ã¯ãªããªã‚‹ã‚“ã˜ã‚ƒãªã„ã‹ãªã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚

ã‚‚ã¡ã‚ã‚“ã€Bootstrapã‚’ä½¿ã‚ãšã«æ‰‹å‹•ã§æ§‹ç¯‰ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã—ã€ãã®æ–¹ãŒã‚ˆã‚Šç†è§£ãŒæ·±ã¾ã‚‹ã¨æ€ã„ã¾ã™ã€‚

ã¨ã¯è¨€ã„ã¤ã¤Supabaseã‚’å®Œå…¨ã«ä½¿ã„ã“ãªã›ã¦ã„ã‚‹ã‚ã‘ã§ã‚‚ãªã„ã®ã§ã“ã‚Œã‚’æœŸã«ã‚‚ã£ã¨å‹‰å¼·ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚

ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚
