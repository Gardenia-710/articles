---
title: "Terraformã§IaCãƒ‡ãƒ“ãƒ¥ãƒ¼ã—ã¦Cloudflareã‚’ã„ã˜ã‚ã†"
emoji: "ğŸ™Œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["terraform", "cloudflare", "iac"]
published: false
---
## IaCã£ã¦ãªã‚“ã ï¼Ÿ
æœ€è¿‘IaCã¨ã„ã†è¨€è‘‰ã‚’ã‚ˆãèãã‚ˆã†ã«ãªã‚Šã€ãã‚Œã¨åŒæ™‚ã«Terraformã¨ã„ã†ã‚‚ã®ã‚‚ã‚ˆãèãã‚ˆã†ã«ãªã£ãŸã€‚

IaCã£ã¦ãªã‚“ã ï¼Ÿã¨æ€ã„èª¿ã¹ã¦ã¿ã‚‹ã¨[AWSã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://aws.amazon.com/jp/what-is/iac/)ã‚’ç™ºè¦‹ã€‚

https://aws.amazon.com/jp/what-is/iac/

> Infrastructure as Code (IaC) ã¨ã¯ã€æ‰‹å‹•ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚„è¨­å®šã®ä»£ã‚ã‚Šã«ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã‚’ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ãŠã‚ˆã³ã‚µãƒãƒ¼ãƒˆã§ãã‚‹ã“ã¨ã‚’ã„ã„ã¾ã™ã€‚

ã¨ã®ã“ã¨ã‚‰ã—ã„ã€‚

è¦ã™ã‚‹ã«ä»Šã¾ã§GCPã‚„AWSãªã©ã®ã‚¤ãƒ³ãƒ•ãƒ©ã«é–¢ã™ã‚‹è¨­å®šã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç”»é¢ã§è¡Œã£ã¦ã„ãŸãŒã€ãã‚Œã‚’ã‚³ãƒ¼ãƒ‰ã§ã§ãã‚‹ã‚ˆã†ã«ã—ã‚ˆã†ã£ã¦ã„ã†ã‚‚ã®ã‚‰ã—ã„ã€‚

ãã‚Œã«ã‚ˆã‚Šä»¥ä¸‹ã®ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã¨ã®ã“ã¨ã€‚

1. ç’°å¢ƒã‚’ç°¡å˜ã«è¤‡è£½ã§ãã‚‹
2. è¨­å®šã‚¨ãƒ©ãƒ¼ã®ä½æ¸›ãŒã§ãã‚‹
3. è¨­å®šãŒã¾ã¨ã¾ã‚‹ã®ã§ç®¡ç†ãŒã—ã‚„ã™ããªã‚‹

ä¼æ¥­ã®ã‚ˆã†ãªå¤§ãã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã„ãã¤ã‚‚æä¾›ã—ã¦ã„ãŸã‚Šã€è¤‡æ•°ã®ç’°å¢ƒãŒå¿…è¦ãªå ´åˆã§ã‚ã‚Œã°IaCã«ã‚ˆã‚‹ãƒ¡ãƒªãƒƒãƒˆã¯ã‹ãªã‚Šå¤§ãã„ã‹ãªã¨æ€ã†ãŒã€å€‹äººã®è¶£å‘³é–‹ç™ºç¨‹åº¦ã§IaCãŒå¿…è¦ã«ãªã‚‹ã®ã‹ãŒã‚¤ãƒã‚¤ãƒã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã‚ã‹ãªã„ã€‚

ã¨ã„ã†ã“ã¨ã§å®Ÿéš›ã«ã‚„ã£ã¦ã¿ã¦åˆ¤æ–­ã—ã¦ã¿ã‚‹ã€‚

## IaCã«ã¯Terraformã‚‰ã—ã„
IaCãƒ„ãƒ¼ãƒ«ã¨ã¯ç°¡å˜ã«èª¿ã¹ã¦ã¿ãŸã¨ã“ã‚ä¸»ã«ä»¥ä¸‹ã®2ã¤ãŒå‡ºã¦ããŸã€‚

1ã¤ç›®ã¯ã€ŒTerraformã€ã§ã€2ã¤ç›®ãŒã€ŒCloudformationã€ã¨ã„ã†ã‚‚ã®ã§ã‚ã‚‹ã€‚

ä¸Šè¨˜ã®æ¯”è¼ƒã«ã¤ã„ã¦ã¯å°‘ã—å‰ã®è©±ã§ã¯ã‚ã‚‹ãŒã€Zennã«[IaCãƒ„ãƒ¼ãƒ«ã®æ¯”è¼ƒ](https://zenn.dev/maniizu3110/articles/65d641519f14a5)ã¨ã„ã†è¨˜äº‹ãŒã‚ã£ãŸã®ã§èª­ã‚“ã§ã¿ãŸã€‚

https://zenn.dev/maniizu3110/articles/65d641519f14a5

ã¨ã‚Šã‚ãˆãšTerraformã‚’é¸æŠã—ã¦ãŠãã®ãŒè‰¯ã„ã¨ã®ã“ã¨ã§ã€ã€ŒTerraform å…¥é–€ã€ã¿ãŸã„ãªæ„Ÿã˜ã§Googleæ¤œç´¢ã‚’ã™ã‚‹ã¨ãŸãã•ã‚“è¨˜äº‹ãŒå‡ºã¦ããŸã®ã§ã€ã‚¤ãƒ³ãƒ•ãƒ©çŸ¥è­˜ãŒã‚ã¾ã‚Šãªã„åƒ•ã§ã‚‚ã§ãã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã¨ã„ã†ã“ã¨ã§Terraformã‚’ä½¿ã£ã¦IaCãƒ‡ãƒ“ãƒ¥ãƒ¼ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ãŸã€‚

## Terraformã‚’ä½¿ã£ã¦ã¿ã‚ˆã†
å…ã«ã‚‚è§’ã«ã‚‚ã¾ãšã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’ã™ã‚‹ã€‚

ä»Šå›ã¯macOSã§ä½¿ç”¨ã™ã‚‹ã®ã§ã€[Terraformå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://developer.hashicorp.com/terraform/tutorials/gcp-get-started/install-cli)ã‚’å‚è€ƒã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚

https://developer.hashicorp.com/terraform/tutorials/gcp-get-started/install-cli

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ä»¥ä¸‹ã®é€šã‚Šã€‚

```zsh
$ brew tap hashicorp/tap
$ brew install hashicorp/tap/terraform

$ terraform -v
Terraform v1.6.6
on darwin_amd64
```

ã“ã‚Œã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã—ãŸã€‚

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«è‡ªä½“ã¯ã‚ã£ã¡ã‚ƒç°¡å˜ã§ã¨ã¦ã‚‚è‰¯ã„ã€‚

## ã¨ã‚Šã‚ãˆãšãŠè©¦ã—ã§Cloudflareã‚’ã„ã˜ã£ã¦ã¿ã‚‹
### Terraformã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
ä»Šå€‹äººçš„ã«GCPã¨ã‹AWSã«ãŠã„ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒãªã„ã®ã§ã€ãŠè©¦ã—ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã¨ã‚Šã‚ãˆãšè‡ªèº«ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã®DNSã‚’Cloudflareã§ç®¡ç†ã—ã¦ã„ã‚‹ã®ã§ãã®éƒ¨åˆ†ã‚’Terraformã§ç®¡ç†ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã‚‹ã€‚

ã“ã¡ã‚‰ã«é–¢ã—ã¦ã‚‚[Cloudflareã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://developers.cloudflare.com/terraform/)ãŒã‚ã‚‹ã®ã§ã“ã‚Œã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’å‚è€ƒã«é€²ã‚ã¦ã„ãã€‚

https://developers.cloudflare.com/terraform/

ã²ã¨ã¾ãšå„ç¨®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æº–å‚™ã™ã‚‹ã€‚

```zsh
$ touch main.tf provider.tf variables.tf terraform.tfvars

$ tree
.
â”œâ”€â”€ dns.tf
â”œâ”€â”€ provider.tf
â”œâ”€â”€ terraform.tfvars
â””â”€â”€ variables.tf
```

ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆãŒæ­£è§£ãªã®ã‹ã¯åˆ†ã‹ã‚‰ãªã„ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¦‹ã‚‹é™ã‚Šã“ã‚“ãªæ„Ÿã˜ãŒè‰¯ã„ã‚‰ã—ã„ã€‚

ãã‚Œãã‚Œã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¹å‰²ã¨ã—ã¦ã€ãµã‚“ã‚ã‚Šã¨è‡ªåˆ†ãªã‚Šã«ç†è§£ã—ã¦ã„ã‚‹ã®ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã‚ã‚‹ã€‚

- provider.tf
  - Terraformã§ã‚¤ãƒ³ãƒ•ãƒ©ã‚’æ“ä½œã™ã‚‹ãŸã‚ã«ã¯ã€Providerã¨å‘¼ã°ã‚Œã‚‹ã‚¤ãƒ³ãƒ•ãƒ©ã¨ã‚„ã‚Šå–ã‚Šã™ã‚‹ãŸã‚ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ãã®è¨­å®šã‚’è¨˜è¿°ã™ã‚‹ã€‚
- dns.tf
  - å®Ÿéš›ã«DNSã«é–¢ã™ã‚‹è¨­å®šã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã€‚
- variables.tf
  - ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹Terraformã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­ã§ä½¿ç”¨ã™ã‚‹å¤‰æ•°ã«ã¤ã„ã¦è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã€‚
- terraform.tfvars
  - å¤‰æ•°ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã€‚

### Providerã®è¨­å®šã¨å¤‰æ•°ã®è¨­å®š
ã¾ãšã¯Cloudflareã¨ã‚„ã‚Šå–ã‚Šã‚’ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚ˆã†ãªã‚‚ã®ã§ã‚ã‚‹Providerã‚’è¨˜è¿°ã™ã‚‹ã€‚

```hcl:provider.tf
terraform {
  required_providers {
    cloudflare = {
      source = "cloudflare/cloudflare"
      version = "~> 4.0"
    }
  }
}

provider "cloudflare" {
  api_token = var.cloudflare_api_token
}
```

ã“ã‚Œã§ã¨ã‚Šã‚ãˆãšProviderã®è¨­å®šã¯OKã€‚

æ¬¡ã«Providerã«è¨˜è¿°ã—ã¦ã„ã‚‹ `var.cloudflare_api_token` ã«ã¤ã„ã¦è¨­å®šã™ã‚‹ã€‚

```hcl:variables.tf
variable "cloudflare_api_token" {
  description = "value of cloudflare api token"
  type = string
}
```

ã“ã‚Œã§ `cloudflare_api_token` ã¨ã„ã†å¤‰æ•°ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€å®Ÿéš›ã®å€¤ã‚’ `terraform.tfvars` ã«è¨˜è¿°ã™ã‚‹ã€‚

```hcl:terraform.tfvars
cloudflare_api_token = "YOUR_API_TOKEN"
```

ã“ã®ãƒˆãƒ¼ã‚¯ãƒ³ã¯Cloudflareã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰ç™ºè¡Œã—ã¦ã€æ“ä½œã—ãŸã„ã‚¾ãƒ¼ãƒ³ã«å¯¾ã™ã‚‹ç·¨é›†æ¨©é™ã‚’ä»˜ä¸ã—ã¦ãŠãã€‚

### Terraformã®åˆæœŸåŒ–
ã“ã“ã¾ã§æ¥ãŸã‚‰ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§Providerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨åˆæœŸåŒ–ã‚’è¡Œã†ã€‚

```zsh
$ terraform init
```

ã“ã‚Œã«ã‚ˆã‚Šã„ãã¤ã‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ•ã‚©ãƒ«ãƒ€ãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚

### å®Ÿéš›ã«DNSã®è¨­å®šã‚’è¿½åŠ ã—ã¦ã¿ã‚‹
ã•ãã“ã“ã¾ã§ãã‚Œã°ã‚ã¨ã¯Terraformã§ã„ã˜ã‚Šæ”¾é¡Œã€‚

å®Ÿéš›ã«é©å½“ãªã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¿½åŠ ã™ã‚‹ã‚ˆã†ãªã‚‚ã®ã‚’ä½œã£ã¦ã¿ã‚ˆã†ã€‚

ã²ã¨ã¾ãšCloudflare Pagesã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã„ã‚‹Astroè£½ã®ã‚µã‚¤ãƒˆã®ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã—ã¦è¨­å®šã™ã‚‹ã€‚

```hcl:dns.tf
resource "cloudflare_record" "tf-test-record" {
  name    = "tf-test-record"
  proxied = false
  ttl     = 1
  type    = "CNAME"
  value   = "portfolio-tf.pages.dev"
  zone_id = "545f513e662d9ff5a0e0fef85118cf27"
}
```

`cloudflare_record` ã¨ã„ã†ã®ãŒå®Ÿéš›ã«æ“ä½œã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã«ãªã‚Šã€ãã‚Œã«å¿…è¦ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ¸¡ã™ã“ã¨ã§è¨˜è¿°ã™ã‚‹ã€‚

è¨˜è¿°ãŒå®Œäº†ã—ãŸã‚‰ã€ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’ã„ããªã‚Šé©ç”¨ã™ã‚‹ã®ã§ã¯ãªãã€ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³ã—ã¦ã©ã®ã‚ˆã†ãªæ“ä½œãŒè¡Œã‚ã‚Œã‚‹ã‹ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

`terraform plan` ã‚’ã—ã¦ã¿ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³ã—ãŸçµæœãŒå‡ºã¦ãã‚‹ã€‚

```zsh
$ terraform plan

Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  # cloudflare_record.tf-test-record will be created
  + resource "cloudflare_record" "tf-test-record" {
      + allow_overwrite = false
      + created_on      = (known after apply)
      + hostname        = (known after apply)
      + id              = (known after apply)
      + metadata        = (known after apply)
      + modified_on     = (known after apply)
      + name            = "tf-test-record"
      + proxiable       = (known after apply)
      + proxied         = false
      + ttl             = 1
      + type            = "CNAME"
      + value           = "portfolio-tf.pages.dev"
      + zone_id         = "545f513e662d9ff5a0e0fef85118cf27"
    }

Plan: 1 to add, 0 to change, 0 to destroy.
```

ã“ã‚Œã«ã‚ˆã‚Šè¨­å®šã—ãŸ1ã¤ã®è¨­å®šãŒè¿½åŠ ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã€‚

ã‚‚ã—ã“ã“ã§æ„å›³ã—ã¦ã„ãªã„ä½œæˆã‚„å‰Šé™¤ã€å¤‰æ›´ãŒã‚ã£ãŸéš›ã«ã¯ä½•ã‹ãŒãŠã‹ã—ã„ã¨é©ç”¨ã™ã‚‹å‰ã«æ°—ã¥ãã“ã¨ãŒã§ãã‚‹ã®ã§ã€ã‹ãªã‚Šå®‰å¿ƒã ã€‚

ä»Šå›ã¯1ã¤ã®è¨­å®šã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§é–“é•ã„ãªã„ã®ã§ã€å®Ÿéš›ã«æœ¬ç•ªåæ˜ ã™ã‚‹ã€‚

æœ¬ç•ªåæ˜ æ™‚ã¯ã€ `terraform apply` ã‚’ã™ã‚‹ã€‚

```zsh
$ terraform apply

Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  # cloudflare_record.tf-test-record will be created
  + resource "cloudflare_record" "tf-test-record" {
      + allow_overwrite = false
      + created_on      = (known after apply)
      + hostname        = (known after apply)
      + id              = (known after apply)
      + metadata        = (known after apply)
      + modified_on     = (known after apply)
      + name            = "tf-test-record"
      + proxiable       = (known after apply)
      + proxied         = false
      + ttl             = 1
      + type            = "CNAME"
      + value           = "portfolio-tf.pages.dev"
      + zone_id         = "545f513e662d9ff5a0e0fef85118cf27"
    }

Plan: 1 to add, 0 to change, 0 to destroy.

Do you want to perform these actions?
  Terraform will perform the actions described above.
  Only 'yes' will be accepted to approve.

  Enter a value:
```

å…ˆç¨‹ã® `terraform plan` ã¨åŒã˜ã‚ˆã†ã«ä½œæˆã•ã‚Œã‚‹è¨­å®šã«ã¤ã„ã¦è¡¨ç¤ºã•ã‚Œã¦ã€Approveã™ã‚‹ã‚ˆã†ã«è¨€ã‚ã‚Œã‚‹ã®ã§Approveã™ã‚‹ã€‚

```zsh
Do you want to perform these actions?
  Terraform will perform the actions described above.
  Only 'yes' will be accepted to approve.

  Enter a value: yes

loudflare_record.tf-test-record: Creating...
cloudflare_record.tf-test-record: Creation complete after 1s [id=6dca4e8d3a044c9883a035ce0fef2d2e]

Apply complete! Resources: 1 added, 0 changed, 0 destroyed.
```

ã“ã‚Œã§ç„¡äº‹ã«è¿½åŠ ã•ã‚ŒãŸã‚ˆã†ã ã€‚

### Cloudflareã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ç¢ºèªã—ã¦ã¿ã‚‹
![](/images/3789b872226e79_2024-01-14-11-15-02.png)

å®Ÿéš›ã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã®ãŒç¢ºèªã§ããŸï¼

æœ¬å½“ã«ã‚³ãƒ¼ãƒ‰ã¨ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã ã‘ã§DNSã®æ“ä½œã‚’ã™ã‚‹ã“ã¨ãŒã§ããŸã®ã§ã€ä»Šå›è¿½åŠ ã—ãŸã‚‚ã®ã¯å‰Šé™¤ã‚’ã™ã‚‹ã€‚

å‰Šé™¤è‡ªä½“ã¯ `dns.tf` ã«è¨˜è¿°ã—ãŸã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã—ã¦ `terraform plan` ã§ç¢ºèªã—ã¦ã€ `terraform apply` ã‚’ã™ã‚‹ã“ã¨ã§å‰Šé™¤ã•ã‚Œã‚‹ã€‚

```zsh
$ terraform apply
cloudflare_record.tf-test-record: Refreshing state... [id=6dca4e8d3a044c9883a035ce0fef2d2e]

Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
  - destroy

Terraform will perform the following actions:

  # cloudflare_record.tf-test-record will be destroyed
  # (because cloudflare_record.tf-test-record is not in configuration)
  - resource "cloudflare_record" "tf-test-record" {
      - allow_overwrite = false -> null
      - created_on      = "2024-01-14T02:13:19.862411Z" -> null
      - hostname        = "tf-test-record.gardenia-710.com" -> null
      - id              = "6dca4e8d3a044c9883a035ce0fef2d2e" -> null
      - metadata        = {
          - "auto_added"             = "false"
          - "managed_by_apps"        = "false"
          - "managed_by_argo_tunnel" = "false"
          - "source"                 = "primary"
        } -> null
      - modified_on     = "2024-01-14T02:13:19.862411Z" -> null
      - name            = "tf-test-record" -> null
      - proxiable       = true -> null
      - proxied         = false -> null
      - tags            = [] -> null
      - ttl             = 1 -> null
      - type            = "CNAME" -> null
      - value           = "portfolio-tf.pages.dev" -> null
      - zone_id         = "545f513e662d9ff5a0e0fef85118cf27" -> null
    }

Plan: 0 to add, 0 to change, 1 to destroy.

Do you want to perform these actions?
  Terraform will perform the actions described above.
  Only 'yes' will be accepted to approve.

  Enter a value: yes

cloudflare_record.tf-test-record: Destroying... [id=6dca4e8d3a044c9883a035ce0fef2d2e]
cloudflare_record.tf-test-record: Destruction complete after 0s

Apply complete! Resources: 0 added, 0 changed, 1 destroyed.
```

ã“ã‚Œã§æƒé™¤ã‚‚å®Œäº†ï¼

## ãã®ä»–ã®ãƒªã‚½ãƒ¼ã‚¹ã®æ“ä½œ
[Cloudflareã®Providerã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://registry.terraform.io/providers/cloudflare/cloudflare/latest/docs)ã‚’èª­ã‚€ã¨ä»Šå›ä½¿ç”¨ã—ãŸ `cloudflare_record` ä»¥å¤–ã®ãƒªã‚½ãƒ¼ã‚¹ã«é–¢ã™ã‚‹æƒ…å ±ã‚‚è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã€‚

https://registry.terraform.io/providers/cloudflare/cloudflare/latest/docs

Pagesã‚„Workersã«é–¢ã™ã‚‹ã‚‚ã®ã‚„ã€R2ã‚„D1ã«ã¤ã„ã¦ã‚‚Terraformã§ç®¡ç†ã§ãã‚‹ã‚ˆã†ãªã®ã§ä»Šåº¦è©¦ã—ã¦ã¿ãŸã„ã€‚

## ã¾ã¨ã‚
IaCãƒ‡ãƒ“ãƒ¥ãƒ¼ã¨ã„ã†ã“ã¨ã§Terraformã‚’è§¦ã£ã¦ã¿ãŸãŒã€äºˆæƒ³ä»¥ä¸Šã«ç°¡å˜ã§é©šã„ãŸã€‚

ã‚‚ã¡ã‚ã‚“å®Ÿéš›ã«GCPã‚„AWSç­‰ã‚’ä½¿ç”¨ã—ã¦1ã¤ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é‹ç”¨ã—ã‚ˆã†ã¨ãªã£ãŸã‚‰æ§˜ã€…ãªãƒªã‚½ãƒ¼ã‚¹ã‚’é€£æºã•ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã‚‚ã£ã¨è¤‡é›‘ã«ã¯ãªã‚‹ãŸã‚ã€ä»Šå›ã¨ã¯ã¾ãŸé•ã†ã¨æ€ã†ãŒã€ã ã‹ã‚‰ã“ãä¸€åº¦å‹ã‚’ä½œã£ã¦ã—ã¾ãˆã°åŒã˜ã‚ˆã†ãªç’°å¢ƒã®è¤‡è£½ã¯ç°¡å˜ã«ã§ãã‚‹ã¨æ„Ÿã˜ãŸã€‚

ä»Šåº¦ã‚¯ãƒ©ã‚¦ãƒ‰ã«ä½•ã‹ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ãã¯Terraformã§ç®¡ç†ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸã„ã€‚

ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚